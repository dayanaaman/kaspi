<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Удостоверение личности</title>
  <style>
    body {
      margin: 0;
      font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
      background-color: #fff;
      color: #000;
      -webkit-user-select: none;
      user-select: none;
    }

    header {
      background-color: #f9f9f9;
      padding: 12px 0;
      text-align: center;
      font-size: 17px;
      font-weight: 600;
      border-bottom: 0.5px solid #ccc;
      position: relative;
    }

    .back-arrow {
      position: absolute;
      left: 16px;
      top: 50%;
      transform: translateY(-50%);
      font-size: 20px;
      font-weight: 400;
      color: #007aff;
      cursor: pointer;
    }

    .tabs {
      display: flex;
      justify-content: center;
      margin: 16px auto;
      width: 90%;
      background: #f2f2f7;
      border-radius: 10px;
      padding: 4px;
    }

    .tab {
      flex: 1;
      text-align: center;
      padding: 6px 0;
      font-size: 15px;
      font-weight: 500;
      border-radius: 8px;
      cursor: pointer;
      color: #007aff;
      transition: background 0.3s, color 0.3s;
    }

    .tab.active {
      background: #fff;
      color: #000;
      font-weight: 600;
    }

    .content {
      padding: 0;
      background-color: #fff;
      min-height: calc(100vh - 120px);
    }

    .photo-container {
      width: 100%;
      height: 500px;
      overflow: hidden;
      position: relative;
      touch-action: none;
    }

    .photo {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      object-fit: contain;
      transform-origin: center center;
      transition: transform 0.2s ease-out;
    }

    .btn {
      display: block;
      width: 90%;
      margin: 10px auto;
      padding: 14px;
      border-radius: 12px;
      font-size: 17px;
      font-weight: 500;
      text-align: center;
      text-decoration: none;
    }

    .btn-primary {
      background-color: #007aff;
      color: white;
    }

    .btn-outline {
      border: 1px solid #c7c7cc;
      color: #007aff;
      background-color: white;
    }

    .btn-icon {
      width: 18px;
      height: 18px;
      vertical-align: middle;
      margin-right: 4px;
    }

    .modal {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0,0,0,0);
      z-index: 1000;
      pointer-events: none;
      transition: background 0.3s ease;
    }

    .modal.show {
      background: rgba(0,0,0,0.4);
      pointer-events: auto;
    }

    .modal-content {
      position: absolute;
      bottom: -60%;
      width: 100%;
      height: 50%;
      background-color: #fff;
      border-top-left-radius: 20px;
      border-top-right-radius: 20px;
      padding: 20px;
      box-sizing: border-box;
      transition: bottom 0.3s ease;
    }

    .modal.show .modal-content {
      bottom: 0;
    }

    .close {
      position: absolute;
      right: 20px;
      top: 12px;
      font-size: 26px;
      color: #888;
      cursor: pointer;
    }

    #info {
      display: none;
      padding: 20px;
    }

    .info-item {
      margin-bottom: 14px;
    }

    .info-label {
      font-size: 13px;
      color: #8e8e93;
      margin-bottom: 2px;
    }

    .info-value {
      display: flex;
      justify-content: space-between;
      align-items: center;
      font-size: 16px;
    }

    .copy-icon {
      width: 20px;
      height: 20px;
      cursor: pointer;
      opacity: 0.6;
    }
  </style>
</head>
<body>
  <header>
    <div class="back-arrow" onclick="window.history.back()">‹</div>
    Удостоверение личности
  </header>

  <div class="tabs">
    <div class="tab active" onclick="showTab('doc')">Документ</div>
    <div class="tab" onclick="showTab('info')">Реквизиты</div>
  </div>

  <div id="doc" class="content">
    <div class="photo-container" id="photoContainer">
      <img src="5194971353961328439.jpg" alt="Документ" class="photo" id="zoomable" />
    </div>
    <a href="#" class="btn btn-primary">Предъявить документ</a>
    <a href="#" class="btn btn-outline">Отправить документ</a>
  </div>

  <div id="info" class="content">
    <div class="info-item">
      <div class="info-label">ФИО</div>
      <div class="info-value">
        Югай Софья Владимировна
        <img src="copy-icon.png" class="copy-icon" />
      </div>
    </div>
    <div class="info-item">
      <div class="info-label">ИИН</div>
      <div class="info-value">
        031209601709
        <img src="copy-icon.png" class="copy-icon" />
      </div>
    </div>
    <div class="info-item">
      <div class="info-label">Дата рождения</div>
      <div class="info-value">
        09.12.2003
        <img src="copy-icon.png" class="copy-icon" />
      </div>
    </div>
    <div class="info-item">
      <div class="info-label">Номер документа</div>
      <div class="info-value">
        050260791
        <img src="copy-icon.png" class="copy-icon" />
      </div>
    </div>
    <div class="info-item">
      <div class="info-label">Дата выдачи</div>
      <div class="info-value">
        04.03.2022
        <img src="copy-icon.png" class="copy-icon" />
      </div>
    </div>
    <div class="info-item">
      <div class="info-label">Срок действия</div>
      <div class="info-value">
        03.03.2032
        <img src="copy-icon.png" class="copy-icon" />
      </div>
    </div>
    <a href="#" class="btn btn-outline">Отправить реквизиты</a>
  </div>

  <div id="modal" class="modal">
    <div class="modal-content">
      <span class="close" onclick="closeModal()">×</span>
      <div style="text-align: center; font-weight: 600; font-size: 18px; margin-bottom: 20px;">
        Удостоверение личности
      </div>
      <div style="text-align: center; font-size: 15px; margin-bottom: 20px;">
        Покажите QR-код сотруднику
      </div>
      <div style="text-align: center; margin-bottom: 15px;">
        <img src="QR.png" alt="QR Code" style="width: 160px; height: 160px; border-radius: 12px;">
      </div>
      <div style="text-align: center; font-size: 15px; margin-bottom: 8px;">
        или скажите код
      </div>
      <div style="text-align: center; font-weight: 700; font-size: 26px;">
        803558
      </div>
    </div>
  </div>

  <script>
    function showTab(id) {
      document.getElementById('doc').style.display = id === 'doc' ? 'block' : 'none';
      document.getElementById('info').style.display = id === 'info' ? 'block' : 'none';

      document.querySelectorAll('.tab').forEach(tab => tab.classList.remove('active'));
      document.querySelector(`.tab[onclick="showTab('${id}')"]`).classList.add('active');
    }

    const img = document.getElementById("zoomable");
    const container = document.getElementById("photoContainer");

    let scale = 1, lastScale = 1;
    let posX = 0, posY = 0;
    let lastX = 0, lastY = 0;
    let isDragging = false;
    let startDist = 0;

    container.addEventListener("touchstart", function (e) {
      if (e.touches.length === 2) {
        startDist = Math.hypot(
          e.touches[0].clientX - e.touches[1].clientX,
          e.touches[0].clientY - e.touches[1].clientY
        );
        lastScale = scale;
      } else if (e.touches.length === 1) {
        isDragging = true;
        lastX = e.touches[0].clientX - posX;
        lastY = e.touches[0].clientY - posY;
      }
    });

    container.addEventListener("touchmove", function (e) {
      if (e.touches.length === 2) {
        e.preventDefault();
        const newDist = Math.hypot(
          e.touches[0].clientX - e.touches[1].clientX,
          e.touches[0].clientY - e.touches[1].clientY
        );
        scale = Math.min(3, Math.max(1, lastScale * (newDist / startDist)));
      } else if (e.touches.length === 1 && isDragging) {
        e.preventDefault();
        posX = e.touches[0].clientX - lastX;
        posY = e.touches[0].clientY - lastY;
      }
      img.style.transform = `translate(${posX}px, ${posY}px) scale(${scale})`;
    });

    container.addEventListener("touchend", function (e) {
      if (e.touches.length < 2) {
        isDragging = false;
      }
    });

    container.addEventListener("dblclick", () => {
      scale = 1; posX = 0; posY = 0;
      img.style.transform = "translate(0,0) scale(1)";
    });

    const modal = document.getElementById("modal");
    document.querySelector(".btn-primary").addEventListener("click", function(e){
      e.preventDefault();
      modal.style.display = "block";
      setTimeout(() => modal.classList.add("show"), 10);
    });

    function closeModal() {
      modal.classList.remove("show");
      setTimeout(() => modal.style.display = "none", 300);
    }

    document.querySelectorAll(".copy-icon").forEach(icon => {
      icon.addEventListener("click", () => {
        const value = icon.parentElement.childNodes[0].textContent.trim();
        navigator.clipboard.writeText(value).then(() => {
          alert("Скопировано: " + value);
        });
      });
    });

    document.addEventListener("DOMContentLoaded", () => showTab("doc"));
  </script>
</body>
</html>
